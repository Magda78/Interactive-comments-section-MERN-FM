{"ast":null,"code":"import _regeneratorRuntime from\"/Users/magdalenacbaran/Desktop/Frontend-mentor/Interactive comments section/solution-o-copy/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/magdalenacbaran/Desktop/Frontend-mentor/Interactive comments section/solution-o-copy/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/magdalenacbaran/Desktop/Frontend-mentor/Interactive comments section/solution-o-copy/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Comment from'./comment';import Reply from'./reply';import SendComment from'./send-comment';import Delete from'./widget/delete';import{selectOverlay}from'../features/dataSlice';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Comments(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var overlay=useSelector(selectOverlay);useEffect(function(){var defaultData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:3001/comments');case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;setData(data);case 7:case\"end\":return _context.stop();}},_callee);}));return function defaultData(){return _ref.apply(this,arguments);};}();defaultData();},[data]);var sortedComment=data===null||data===void 0?void 0:data.sort(function(a,b){return b.score-a.score;});return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"pt-8 pr-4 pb-8 pl-4 z-10 xl:pl-[355px] xl:pr-[355px] xl:pb-16 xl:pt-16\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:sortedComment===null||sortedComment===void 0?void 0:sortedComment.map(function(item){var _item$replies;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Comment,{idComment:item.id,usernameComment:item.user.username,createdAtComment:item.createdAt,contentComment:item.content,scoreComment:item.score,buttonText:\"Reply\",png:item.user.image.png,webp:item.user.image.webp},item.id),item.replies&&/*#__PURE__*/_jsx(\"div\",{className:\"border-l-2 border-light-gray xl:ml-[43px]\",children:item===null||item===void 0?void 0:(_item$replies=item.replies)===null||_item$replies===void 0?void 0:_item$replies.map(function(reply,index){return/*#__PURE__*/_jsx(Reply,{idReply:reply.id,idComment:item.id,usernameReply:reply.user.username,createdAtReply:reply.createdAt,scoreReply:reply.score,png:reply.user.image.png,webp:reply.user.image.webp,contentReply:reply.content,buttonText:\"Reply\",replyingTo:reply.user.username},index);})})]},item.id);})}),/*#__PURE__*/_jsx(SendComment,{buttonText:\"SEND\"}),overlay?/*#__PURE__*/_jsx(\"div\",{className:\"bg-overlay z-30 w-full h-screen top-0 right-0 fixed  pl-4 pr-4 flex justify-center items-center\",children:/*#__PURE__*/_jsx(Delete,{})}):null]})});}export default Comments;","map":{"version":3,"names":["React","useEffect","useState","Comment","Reply","SendComment","Delete","selectOverlay","useSelector","jsx","_jsx","jsxs","_jsxs","Comments","_useState","_useState2","_slicedToArray","data","setData","overlay","defaultData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","fetch","sent","json","stop","apply","arguments","sortedComment","sort","a","b","score","children","className","map","item","_item$replies","idComment","id","usernameComment","user","username","createdAtComment","createdAt","contentComment","content","scoreComment","buttonText","png","image","webp","replies","reply","index","idReply","usernameReply","createdAtReply","scoreReply","contentReply","replyingTo"],"sources":["/Users/magdalenacbaran/Desktop/Frontend-mentor/Interactive comments section/solution-o-copy/frontend/src/components/comments.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Comment from './comment';\nimport Reply from './reply';\nimport SendComment from './send-comment';\nimport Delete from './widget/delete';\nimport { selectOverlay } from '../features/dataSlice';\nimport { useSelector } from 'react-redux';\n\nfunction Comments() {\n\tconst [ data, setData ] = useState(null);\n\tconst overlay = useSelector(selectOverlay);\n\n\tuseEffect(() => {\n\t\tconst defaultData = async () => {\n\t\t\tconst res = await fetch('http://localhost:3001/comments');\n\t\t\tconst data = await res.json();\n\t\t\tsetData(data);\n\t\t};\n\t\tdefaultData();\n\t}, [data]);\n \n\tconst sortedComment = data?.sort((a, b) => b.score - a.score);\n\n\treturn (\n\t\t<main>\n\t\t\t<div className=\"pt-8 pr-4 pb-8 pl-4 z-10 xl:pl-[355px] xl:pr-[355px] xl:pb-16 xl:pt-16\">\n\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t{sortedComment?.map(item => (\t\n\t\t\t\t\t\t<div key={item.id}>\n\t\t\t\t\t\t\t<Comment key={item.id} idComment={item.id} usernameComment={item.user.username}  createdAtComment={item.createdAt} contentComment={item.content}  scoreComment={item.score} buttonText=\"Reply\" png={item.user.image.png} webp={item.user.image.webp}/>\n\t\t\t\t\t\t\t{item.replies && (\n            \t\t\t\t\t<div className=\"border-l-2 border-light-gray xl:ml-[43px]\">\n              \t\t\t\t\t\t{item?.replies?.map((reply,index) => (\n\t\t\t\t\t\t\t\t\t\t<Reply key={index} idReply={reply.id} idComment={item.id} usernameReply={reply.user.username} createdAtReply={reply.createdAt} scoreReply={reply.score} png={reply.user.image.png} webp={reply.user.image.webp} contentReply={reply.content} buttonText=\"Reply\" replyingTo={reply.user.username}  />\n             \t\t\t\t\t \t))}\n            \t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\t\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t\t<SendComment buttonText=\"SEND\"/>\n\t\t\t\t\n\t\t\t\t{overlay ? <div className='bg-overlay z-30 w-full h-screen top-0 right-0 fixed  pl-4 pr-4 flex justify-center items-center'><Delete /></div>:null}\n\t\t\t</div>\n\t\t</main>\n\t);\n\t\t\t\t\t\t\t\t}\n\nexport default Comments;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}