{"ast":null,"code":"import _regeneratorRuntime from\"/Users/magdalenacbaran/Desktop/Frontend-mentor/Interactive comments section/solution-o-copy/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/magdalenacbaran/Desktop/Frontend-mentor/Interactive comments section/solution-o-copy/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/magdalenacbaran/Desktop/Frontend-mentor/Interactive comments section/solution-o-copy/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SendComment(_ref){var buttonText=_ref.buttonText,idComment=_ref.idComment,replyingTo=_ref.replyingTo,png=_ref.png;var _useState=useState('Add comment...'),_useState2=_slicedToArray(_useState,2),comment=_useState2[0],setComment=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),screenSize=_useState4[0],setScreenSize=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var defaultUsername='juliusomo';useEffect(function(){var handleResize=function handleResize(){if(window.innerWidth<640){setScreenSize('sm');}else if(window.innerWidth>768){setScreenSize('md');}};handleResize();window.addEventListener('resize',handleResize);},[]);var textAreaHandler=function textAreaHandler(){setComment('');};var textAreaUserInputHandler=function textAreaUserInputHandler(e){setComment(e.target.value);};var commentSubmitHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,responseData,_response,_responseData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(buttonText==='SEND'&&comment.length>0&&comment!=='Add comment...')){_context.next=17;break;}_context.prev=1;_context.next=4;return fetch('http://localhost:3001/comments',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({content:comment,username:defaultUsername,png:'../images/avatars/image-juliusomo.png',webp:'../images/avatars/image-juliusomo.webp'})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:responseData=_context.sent;setData(responseData);if(response.ok){_context.next=11;break;}throw new Error(responseData.message);case 11:_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);setError(_context.t0.message||'Something went wrong');console.log(_context.t0);case 17:if(!(buttonText==='Reply'&&comment.length>0&&comment!=='Add comment...')){_context.next=33;break;}_context.prev=18;_context.next=21;return fetch(\"http://localhost:3001/comments/\".concat(idComment,\"/replies\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({content:comment,replyingTo:replyingTo,username:defaultUsername,png:'../images/avatars/image-juliusomo.png',webp:'../images/avatars/image-juliusomo.webp'})});case 21:_response=_context.sent;_context.next=24;return _response.json();case 24:_responseData=_context.sent;if(_response.ok){_context.next=27;break;}throw new Error(_responseData.message);case 27:_context.next=33;break;case 29:_context.prev=29;_context.t1=_context[\"catch\"](18);setError(_context.t1.message||'Something went wrong');console.log(_context.t1);case 33:e.preventDefault();case 34:case\"end\":return _context.stop();}},_callee,null,[[1,13],[18,29]]);}));return function commentSubmitHandler(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"main\",{className:\"p-4  bg-component-background rounded-lg\",children:screenSize==='sm'?/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"textarea\",{onClick:textAreaHandler,onChange:textAreaUserInputHandler,value:comment,className:\"focus:outline-none border-[1px] pt-3 pl-6 h-24 mb-3.5 text-base font-normal text-grayish-blue leading-6 border-light-gray rounded-md w-[100%] resize-none\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row justify-between items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full\",children:/*#__PURE__*/_jsx(\"img\",{src:\"../images/avatars/image-juliusomo.png\",alt:\"user-avatar\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:commentSubmitHandler,className:\"text-base text-white  leading-6 uppercase rounded-md bg-moderate-blue pt-3 pl-[30px] pr-[30px] pb-3 hover:bg-light-grayish-blue\",children:buttonText})]})]}):/*#__PURE__*/_jsxs(\"form\",{className:\"flex flex-row space-x-4 items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full\",children:/*#__PURE__*/_jsx(\"img\",{src:\"../images/avatars/image-juliusomo.png\",alt:\"user-avatar\"})}),/*#__PURE__*/_jsx(\"textarea\",{onClick:textAreaHandler,onChange:textAreaUserInputHandler,value:comment,className:\"focus:outline-none border-[1px] pt-3 pl-6 h-24 mb-3.5 text-base font-normal text-grayish-blue leading-6 border-light-gray rounded-md w-[100%] resize-none\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:commentSubmitHandler,className:\"text-base text-white  leading-6 uppercase rounded-md bg-moderate-blue pt-3 pl-[30px] pr-[30px] pb-3 hover:bg-light-grayish-blue\",children:buttonText})]})});}export default SendComment;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","SendComment","_ref","buttonText","idComment","replyingTo","png","_useState","_useState2","_slicedToArray","comment","setComment","_useState3","_useState4","screenSize","setScreenSize","_useState5","_useState6","data","setData","_useState7","_useState8","error","setError","defaultUsername","handleResize","window","innerWidth","addEventListener","textAreaHandler","textAreaUserInputHandler","e","target","value","commentSubmitHandler","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","responseData","_response","_responseData","wrap","_callee$","_context","prev","next","length","fetch","method","headers","body","JSON","stringify","content","username","webp","sent","json","ok","Error","message","t0","console","log","concat","t1","preventDefault","stop","_x","apply","arguments","className","children","onClick","onChange","src","alt","type"],"sources":["/Users/magdalenacbaran/Desktop/Frontend-mentor/Interactive comments section/solution-o-copy/frontend/src/components/send-comment.js"],"sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\n\nfunction SendComment({ buttonText, idComment, replyingTo, png }) {\n\tconst [ comment, setComment ] = useState('Add comment...');\n\tconst [ screenSize, setScreenSize ] = useState();\n\tconst [ data, setData ] = useState();\n\tconst [ error, setError ] = useState();\n\tconst defaultUsername = 'juliusomo';\n\n\tuseEffect(() => {\n\t\tconst handleResize = () => {\n\t\t\tif (window.innerWidth < 640) {\n\t\t\t\tsetScreenSize('sm');\n\t\t\t} else if (window.innerWidth > 768) {\n\t\t\t\tsetScreenSize('md');\n\t\t\t}\n\t\t};\n\t\thandleResize();\n\t\twindow.addEventListener('resize', handleResize);\n\t}, []);\n\n\tconst textAreaHandler = () => {\n\t\tsetComment('');\n\t};\n\tconst textAreaUserInputHandler = (e) => {\n\t\tsetComment(e.target.value);\n\t};\n\tconst commentSubmitHandler = async (e) => {\n\t\tif (buttonText === 'SEND' && comment.length > 0 && comment !== 'Add comment...') {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch('http://localhost:3001/comments', {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tcontent: comment,\n\t\t\t\t\t\tusername: defaultUsername,\n\t\t\t\t\t\tpng: '../images/avatars/image-juliusomo.png',\n\t\t\t\t\t\twebp: '../images/avatars/image-juliusomo.webp'\n\t\t\t\t\t})\n\t\t\t\t});\n\n\t\t\t\tconst responseData = await response.json();\n\t\t\t\tsetData(responseData);\n\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(responseData.message);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tsetError(err.message || 'Something went wrong');\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t}\n\t\tif (buttonText === 'Reply' && comment.length > 0 && comment !== 'Add comment...') {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(`http://localhost:3001/comments/${idComment}/replies`, {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tcontent: comment,\n\t\t\t\t\t\treplyingTo: replyingTo,\n\t\t\t\t\t\tusername: defaultUsername,\n\t\t\t\t\t\tpng: '../images/avatars/image-juliusomo.png',\n\t\t\t\t\t\twebp: '../images/avatars/image-juliusomo.webp'\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t\tconst responseData = await response.json();\n\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(responseData.message);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tsetError(err.message || 'Something went wrong');\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t}\n\t\te.preventDefault();\n\t};\n\n\treturn (\n\t\t<main className=\"p-4  bg-component-background rounded-lg\">\n\t\t\t{screenSize === 'sm' ? (\n\t\t\t\t<form>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tonClick={textAreaHandler}\n\t\t\t\t\t\tonChange={textAreaUserInputHandler}\n\t\t\t\t\t\tvalue={comment}\n\t\t\t\t\t\tclassName=\"focus:outline-none border-[1px] pt-3 pl-6 h-24 mb-3.5 text-base font-normal text-grayish-blue leading-6 border-light-gray rounded-md w-[100%] resize-none\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"flex flex-row justify-between items-center\">\n\t\t\t\t\t\t<div className=\"w-8 h-8 rounded-full\">\n\t\t\t\t\t\t\t<img src=\"../images/avatars/image-juliusomo.png\" alt=\"user-avatar\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tonClick={commentSubmitHandler}\n\t\t\t\t\t\t\tclassName=\"text-base text-white  leading-6 uppercase rounded-md bg-moderate-blue pt-3 pl-[30px] pr-[30px] pb-3 hover:bg-light-grayish-blue\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{buttonText}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t) : (\n\t\t\t\t<form className=\"flex flex-row space-x-4 items-start\">\n\t\t\t\t\t<div className=\"w-10 h-10 rounded-full\">\n\t\t\t\t\t\t<img src=\"../images/avatars/image-juliusomo.png\" alt=\"user-avatar\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tonClick={textAreaHandler}\n\t\t\t\t\t\tonChange={textAreaUserInputHandler}\n\t\t\t\t\t\tvalue={comment}\n\t\t\t\t\t\tclassName=\"focus:outline-none border-[1px] pt-3 pl-6 h-24 mb-3.5 text-base font-normal text-grayish-blue leading-6 border-light-gray rounded-md w-[100%] resize-none\"\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tonClick={commentSubmitHandler}\n\t\t\t\t\t\tclassName=\"text-base text-white  leading-6 uppercase rounded-md bg-moderate-blue pt-3 pl-[30px] pr-[30px] pb-3 hover:bg-light-grayish-blue\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{buttonText}\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t)}\n\t\t</main>\n\t);\n}\n\nexport default SendComment;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}