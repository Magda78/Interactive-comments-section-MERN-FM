{"ast":null,"code":"import _regeneratorRuntime from\"/Users/magdalenacbaran/Desktop/Frontend-mentor/Interactive comments section/solution-o-copy/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/magdalenacbaran/Desktop/Frontend-mentor/Interactive comments section/solution-o-copy/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/magdalenacbaran/Desktop/Frontend-mentor/Interactive comments section/solution-o-copy/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{toggleOverlay,selectCommentId,selectReplyId}from'../../features/dataSlice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Delete(){var dispatch=useDispatch();var id=useSelector(selectCommentId);var replyId=useSelector(selectReplyId);var _useState=useState(),_useState2=_slicedToArray(_useState,2),dataReply=_useState2[0],setDataReply=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),dataComment=_useState4[0],setDataComment=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var cancelHandler=function cancelHandler(){dispatch(toggleOverlay(false));};var deleteReplyHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,responseData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:3001/comments/\".concat(id,\"/replies/\").concat(replyId),{method:'DELETE',headers:{'Content-Type':'aplication/json'}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseData=_context.sent;setDataReply(responseData);if(response.ok){_context.next=10;break;}throw new Error(responseData.message);case 10:_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);setError(_context.t0.message||'Something went wrong');console.log(_context.t0);case 16:dispatch(toggleOverlay(false));case 17:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return function deleteReplyHandler(){return _ref.apply(this,arguments);};}();var deleteCommentHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,responseData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"http://localhost:3001/comments/\".concat(id),{method:'DELETE',headers:{'Content-Type':'aplication/json'}});case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:responseData=_context2.sent;setDataComment(responseData);if(response.ok){_context2.next=10;break;}throw new Error(responseData.message);case 10:_context2.next=16;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](0);setError(_context2.t0.message||'Something went wrong');console.log(_context2.t0);case 16:dispatch(toggleOverlay(false));case 17:case\"end\":return _context2.stop();}},_callee2,null,[[0,12]]);}));return function deleteCommentHandler(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"main\",{className:\"rounded-lg p-6 bg-white z-40 bg-opacity-100\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl text-dark-blue mb-4 font-medium\",children:\"Delete comment\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-normal text-base text-grayish-blue mb-4\",children:\"Are you sure you want to delete this comment? This will remove the comment and can\\u2019t be undone.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"rounded-lg bg-grayish-blue text-white uppercase pt-3 pb-3 pl-5 pr-5\",onClick:cancelHandler,children:\"No, Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"rounded-lg bg-soft-red text-white uppercase pt-3 pb-3 pl-5 pr-5\",onClick:replyId?deleteReplyHandler:deleteCommentHandler,children:\"Yes, Delete\"})]})]});}export default Delete;","map":{"version":3,"names":["useState","useDispatch","useSelector","toggleOverlay","selectCommentId","selectReplyId","jsx","_jsx","jsxs","_jsxs","Delete","dispatch","id","replyId","_useState","_useState2","_slicedToArray","dataReply","setDataReply","_useState3","_useState4","dataComment","setDataComment","_useState5","_useState6","error","setError","cancelHandler","deleteReplyHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","responseData","wrap","_callee$","_context","prev","next","fetch","concat","method","headers","sent","json","ok","Error","message","t0","console","log","stop","apply","arguments","deleteCommentHandler","_ref2","_callee2","_callee2$","_context2","className","children","onClick"],"sources":["/Users/magdalenacbaran/Desktop/Frontend-mentor/Interactive comments section/solution-o-copy/frontend/src/components/widget/delete.js"],"sourcesContent":["import { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { toggleOverlay, selectCommentId, selectReplyId } from '../../features/dataSlice';\n\nfunction Delete() {\n\tconst dispatch = useDispatch();\n\tconst id = useSelector(selectCommentId);\n\tconst replyId = useSelector(selectReplyId);\n\tconst [ dataReply, setDataReply ] = useState();\n\tconst [ dataComment, setDataComment ] = useState();\n\tconst [ error, setError ] = useState();\n\tconst cancelHandler = () => {\n\t\tdispatch(toggleOverlay(false));\n\t};\n\tconst deleteReplyHandler = async () => {\n\t\ttry {\n\t\t\tconst response = await fetch(`http://localhost:3001/comments/${id}/replies/${replyId}`, {\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'aplication/json'\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst responseData = await response.json();\n\t\t\tsetDataReply(responseData);\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(responseData.message);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetError(err.message || 'Something went wrong');\n\t\t\tconsole.log(err);\n\t\t}\n\t\tdispatch(toggleOverlay(false));\n\t};\n\n\tconst deleteCommentHandler = async () => {\n\t\ttry {\n\t\t\tconst response = await fetch(`http://localhost:3001/comments/${id}`, {\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'aplication/json'\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst responseData = await response.json();\n\t\t\tsetDataComment(responseData);\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(responseData.message);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetError(err.message || 'Something went wrong');\n\t\t\tconsole.log(err);\n\t\t}\n\t\tdispatch(toggleOverlay(false));\n\t};\n\n\treturn (\n\t\t<main className=\"rounded-lg p-6 bg-white z-40 bg-opacity-100\">\n\t\t\t<h2 className=\"text-xl text-dark-blue mb-4 font-medium\">Delete comment</h2>\n\t\t\t<p className=\"font-normal text-base text-grayish-blue mb-4\">\n\t\t\t\tAre you sure you want to delete this comment? This will remove the comment and canâ€™t be undone.\n\t\t\t</p>\n\t\t\t<div className=\"flex justify-between items-center\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"rounded-lg bg-grayish-blue text-white uppercase pt-3 pb-3 pl-5 pr-5\"\n\t\t\t\t\tonClick={cancelHandler}\n\t\t\t\t>\n\t\t\t\t\tNo, Cancel\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"rounded-lg bg-soft-red text-white uppercase pt-3 pb-3 pl-5 pr-5\"\n\t\t\t\t\tonClick={replyId ? deleteReplyHandler : deleteCommentHandler}\n\t\t\t\t>\n\t\t\t\t\tYes, Delete\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</main>\n\t);\n}\n\nexport default Delete;\n"],"mappings":"8jBAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,aAAa,CAAEC,eAAe,CAAEC,aAAa,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzF,QAAS,CAAAC,MAAMA,CAAA,CAAG,CACjB,GAAM,CAAAC,QAAQ,CAAGV,WAAW,EAAE,CAC9B,GAAM,CAAAW,EAAE,CAAGV,WAAW,CAACE,eAAe,CAAC,CACvC,GAAM,CAAAS,OAAO,CAAGX,WAAW,CAACG,aAAa,CAAC,CAC1C,IAAAS,SAAA,CAAoCd,QAAQ,EAAE,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAtCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC/B,IAAAI,UAAA,CAAwCnB,QAAQ,EAAE,CAAAoB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA1CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IACnC,IAAAG,UAAA,CAA4BvB,QAAQ,EAAE,CAAAwB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA9BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACvB,GAAM,CAAAG,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC3BhB,QAAQ,CAACR,aAAa,CAAC,KAAK,CAAC,CAAC,CAC/B,CAAC,CACD,GAAM,CAAAyB,kBAAkB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,YAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEF,CAAAC,KAAK,mCAAAC,MAAA,CAAmC9B,EAAE,cAAA8B,MAAA,CAAY7B,OAAO,EAAI,CACvF8B,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACR,cAAc,CAAE,iBACjB,CACD,CAAC,CAAC,QALIV,QAAQ,CAAAI,QAAA,CAAAO,IAAA,CAAAP,QAAA,CAAAE,IAAA,SAMa,CAAAN,QAAQ,CAACY,IAAI,EAAE,QAApCX,YAAY,CAAAG,QAAA,CAAAO,IAAA,CAClB3B,YAAY,CAACiB,YAAY,CAAC,CAAC,GACtBD,QAAQ,CAACa,EAAE,EAAAT,QAAA,CAAAE,IAAA,gBACT,IAAI,CAAAQ,KAAK,CAACb,YAAY,CAACc,OAAO,CAAC,SAAAX,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAY,EAAA,CAAAZ,QAAA,aAGtCZ,QAAQ,CAACY,QAAA,CAAAY,EAAA,CAAID,OAAO,EAAI,sBAAsB,CAAC,CAC/CE,OAAO,CAACC,GAAG,CAAAd,QAAA,CAAAY,EAAA,CAAK,CAAC,QAElBvC,QAAQ,CAACR,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,yBAAAmC,QAAA,CAAAe,IAAA,MAAApB,OAAA,iBAC/B,kBAlBK,CAAAL,kBAAkBA,CAAA,SAAAC,IAAA,CAAAyB,KAAA,MAAAC,SAAA,OAkBvB,CAED,GAAM,CAAAC,oBAAoB,6BAAAC,KAAA,CAAA3B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAA0B,SAAA,MAAAxB,QAAA,CAAAC,YAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAuB,UAAAC,SAAA,iBAAAA,SAAA,CAAArB,IAAA,CAAAqB,SAAA,CAAApB,IAAA,SAAAoB,SAAA,CAAArB,IAAA,GAAAqB,SAAA,CAAApB,IAAA,SAEJ,CAAAC,KAAK,mCAAAC,MAAA,CAAmC9B,EAAE,EAAI,CACpE+B,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACR,cAAc,CAAE,iBACjB,CACD,CAAC,CAAC,QALIV,QAAQ,CAAA0B,SAAA,CAAAf,IAAA,CAAAe,SAAA,CAAApB,IAAA,SAMa,CAAAN,QAAQ,CAACY,IAAI,EAAE,QAApCX,YAAY,CAAAyB,SAAA,CAAAf,IAAA,CAClBvB,cAAc,CAACa,YAAY,CAAC,CAAC,GACxBD,QAAQ,CAACa,EAAE,EAAAa,SAAA,CAAApB,IAAA,gBACT,IAAI,CAAAQ,KAAK,CAACb,YAAY,CAACc,OAAO,CAAC,SAAAW,SAAA,CAAApB,IAAA,kBAAAoB,SAAA,CAAArB,IAAA,IAAAqB,SAAA,CAAAV,EAAA,CAAAU,SAAA,aAGtClC,QAAQ,CAACkC,SAAA,CAAAV,EAAA,CAAID,OAAO,EAAI,sBAAsB,CAAC,CAC/CE,OAAO,CAACC,GAAG,CAAAQ,SAAA,CAAAV,EAAA,CAAK,CAAC,QAElBvC,QAAQ,CAACR,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,yBAAAyD,SAAA,CAAAP,IAAA,MAAAK,QAAA,iBAC/B,kBAlBK,CAAAF,oBAAoBA,CAAA,SAAAC,KAAA,CAAAH,KAAA,MAAAC,SAAA,OAkBzB,CAED,mBACC9C,KAAA,SAAMoD,SAAS,CAAC,6CAA6C,CAAAC,QAAA,eAC5DvD,IAAA,OAAIsD,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,gBAAc,EAAK,cAC3EvD,IAAA,MAAGsD,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,sGAE5D,EAAI,cACJrD,KAAA,QAAKoD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eACjDvD,IAAA,WACCsD,SAAS,CAAC,qEAAqE,CAC/EE,OAAO,CAAEpC,aAAc,CAAAmC,QAAA,CACvB,YAED,EAAS,cACTvD,IAAA,WACCsD,SAAS,CAAC,iEAAiE,CAC3EE,OAAO,CAAElD,OAAO,CAAGe,kBAAkB,CAAG4B,oBAAqB,CAAAM,QAAA,CAC7D,aAED,EAAS,GACJ,GACA,CAET,CAEA,cAAe,CAAApD,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}